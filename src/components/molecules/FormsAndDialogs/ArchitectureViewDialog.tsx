\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Badge }n from \"@/components/ui/badge\";\nimport { Pencil, Trash2 } from \"lucide-react\";\nimport type { ArchitectureRecord, ArchitectureCategory } from \"@/types/architecture\";\n\ninterface ArchitectureViewDialogProps {\n  viewOpen: boolean;\n  setViewOpen: (open: boolean) => void;\n  viewItem: ArchitectureRecord | null;\n  CATEGORY_LABELS: Record<ArchitectureCategory, string>;\n  openEdit: (record: ArchitectureRecord) => void;\n  handleDelete: (id: string) => Promise<void>;\n}\n\nexport function ArchitectureViewDialog({\n  viewOpen,\n  setViewOpen,\n  viewItem,\n  CATEGORY_LABELS,\n  openEdit,\n  handleDelete,\n}: ArchitectureViewDialogProps) {\n  return (\n    <Dialog open={viewOpen} onOpenChange={setViewOpen}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            {viewItem?.name}\n            {viewItem && <Badge variant=\"secondary\">{CATEGORY_LABELS[viewItem.category]}</Badge>}\n          </DialogTitle>\n          {viewItem?.description && <DialogDescription>{viewItem.description}</DialogDescription>}\n        </DialogHeader>\n        {viewItem && (\n          <div className=\"space-y-4 py-4\">\n            {viewItem.practices && (\n              <div>\n                <h4 className=\"text-sm font-medium mb-2\">Best practices / principles</h4>\n                <pre className=\"text-sm whitespace-pre-wrap font-mono bg-muted/50 rounded-md p-3 overflow-x-auto\">\n                  {viewItem.practices}\n                </pre>\n              </div>\n            )}\n            {viewItem.scenarios && (\n              <div>\n                <h4 className=\"text-sm font-medium mb-2\">When to use / scenarios</h4>\n                <pre className=\"text-sm whitespace-pre-wrap font-mono bg-muted/50 rounded-md p-3 overflow-x-auto\">\n                  {viewItem.scenarios}\n                </pre>\n              </div>\n            )}\n            {viewItem.references && (\n              <div>\n                <h4 className=\"text-sm font-medium mb-2\">References</h4>\n                <pre className=\"text-sm whitespace-pre-wrap font-mono bg-muted/50 rounded-md p-3 overflow-x-auto\">\n                  {viewItem.references}\n                </pre>\n              </div>\n            )}\n            {viewItem.anti_patterns && (\n              <div>\n                <h4 className=\"text-sm font-medium mb-2\">Anti-patterns</h4>\n                <pre className=\"text-sm whitespace-pre-wrap font-mono bg-muted/50 rounded-md p-3 overflow-x-auto\">\n                  {viewItem.anti_patterns}\n                </pre>\n              </div>\n            )}\n            {viewItem.examples && (\n              <div>\n                <h4 className=\"text-sm font-medium mb-2\">Examples</h4>\n                <pre className=\"text-sm whitespace-pre-wrap font-mono bg-muted/50 rounded-md p-3 overflow-x-auto\">\n                  {viewItem.examples}\n                </pre>\n              </div>\n            )}\n            {viewItem.extr_inputs && Object.keys(viewItem.extr_inputs).length > 0 && (\n              <div>\n                <h4 className=\"text-sm font-medium mb-2\">Additional inputs</h4>\n                <ul className=\"space-y-2\">\n                  {Object.entries(viewItem.extr_inputs).map(([key, value]) => (\n                    <li key={key}>\n                      <span className=\"text-sm font-medium text-muted-foreground\">{key}:</span>\n                      <pre className=\"text-sm whitespace-pre-wrap font-mono bg-muted/50 rounded-md p-2 mt-0.5 overflow-x-auto\">\n                        {value}\n                      </pre>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n            {!viewItem.practices && !viewItem.scenarios && !viewItem.references && !viewItem.anti_patterns && !viewItem.examples && !(viewItem.extr_inputs && Object.keys(viewItem.extr_inputs).length) && (\n              <p className=\"text-muted-foreground text-sm\">No content defined. Edit to add practices, scenarios, or more inputs.</p>\n            )}\n          </div>\n        )}\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => setViewOpen(false)}>\n            Close\n          </Button>\n          {viewItem && (\n            <>\n              <Button\n                variant=\"outline\"\n                onClick={() => {\n                  setViewOpen(false);\n                  openEdit(viewItem);\n                }}\n              >\n                <Pencil className=\"h-4 w-4 mr-2\" />\n                Edit\n              </Button>\n              <Button variant=\"destructive\" onClick={() => viewItem && handleDelete(viewItem.id)}>\n                <Trash2 className=\"h-4 w-4 mr-2\" />\n                Delete\n              </Button>\n            </>\n          )}\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n