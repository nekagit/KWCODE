---
description: Tech stack and atomic component structure — single source of truth and import rules
globs: 
  - "src/**/*.tsx"
  - "src/**/*.ts"
  - ".cursor/**/*.md"
alwaysApply: false
---

# Tech stack and atomic design

## Tech stack

Canonical stack is in **`.cursor/technologies/tech-stack.json`**. Use it for all stack decisions.

- **Frontend:** Next.js 15, Tailwind CSS, Zustand, shadcn/ui, App Router, Vitest + Testing Library (optional), Turbopack/Vite
- **Backend:** Node.js, Next.js API Routes, SQLite, Prisma, Zod; Clerk and Vitest + Supertest (optional)
- **Tooling:** ESLint, Prettier, Playwright (e2e, optional), pnpm or npm

## Component structure (`src/components/`)

Strict atomic hierarchy. Respect import rules; no reverse or skip-layer imports.

| Layer | Allowed imports |
|-------|------------------|
| **ui/** | — (shadcn only; add via `npx shadcn@latest add <name>`) |
| **atoms/** | `ui` only |
| **shared/** | Reusable atoms/molecules/organisms (same component, different data) |
| **molecules/** | **atoms** and **shared** only — never ui, organisms, pages |
| **organisms/** | **molecules** and **shared** only — never ui, atoms, pages |
| **pages/** | **organisms** and **shared** only — never ui, atoms, molecules |

- **App routes** (`src/app/**/page.tsx`): import only from `@/components/pages` or `@/components/shared`.
- Do not modify files in `ui/`; customize via atoms.

See **`.cursor/adr/0001-tech-stack-and-atomic-components.md`** for full ADR.
